<!-- Styles.xaml -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Стиль для ListBox с чекбоксами -->
    <Style x:Key="CheckboxListStyle" TargetType="ListBox">
        <Setter Property="Background" Value="#1b1b1c"/>
        <Setter Property="BorderBrush" Value="#FF302020"/>
        <Setter Property="Foreground" Value="#FFD0D0D0"/>
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="ListBoxItem">
                    <Setter Property="Margin" Value="5"/>
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="ListBoxItem">
                                <Border Background="Transparent" CornerRadius="3">
                                    <ContentPresenter/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="#30202020"/>
                                    </Trigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#20202020"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Стиль для чекбоксов -->
    <Style x:Key="CheckboxStyle" TargetType="CheckBox">
        <Setter Property="Margin" Value="10,8"/>
        <Setter Property="Padding" Value="5"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="CheckBox">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border x:Name="border"
                            Width="22"
                            Height="22"
                            Background="#FF302020"
                            BorderBrush="#FF602020"
                            BorderThickness="2"
                            CornerRadius="4"
                            VerticalAlignment="Center"/>

                        <Path x:Name="checkMark"
                          Data="M 4 10 L 9 15 L 18 6"
                          Stroke="#FFDA0000"
                          StrokeThickness="2.5"
                          Stretch="Uniform"
                          Margin="2"
                          Visibility="Collapsed"
                          VerticalAlignment="Center"/>

                        <ContentPresenter Grid.Column="1"
                                      Margin="10,0,0,0"
                                      VerticalAlignment="Center"
                                      TextElement.FontSize="14"/>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="checkMark" Property="Visibility" Value="Visible"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="#FF802020"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Шаблон для элементов списка -->
    <DataTemplate x:Key="CheckboxItemTemplate">
        <CheckBox Content="{Binding}"
                  Foreground="#FFD0D0D0"
                  Style="{StaticResource CheckboxStyle}"/>
    </DataTemplate>

    <!-- Стиль TabControl -->
    <Style x:Key="MainTabControlStyle" TargetType="TabControl">
        <Setter Property="Background" Value="#1b1b1c"/>
        <Setter Property="BorderBrush" Value="#FF502020"/>
        <Setter Property="Foreground" Value="#FFDA0000"/>
        <Setter Property="BorderThickness" Value="2"/>
        <Setter Property="TabStripPlacement" Value="Top"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="FontWeight" Value="Bold"/>
    </Style>

    <!-- Стиль для вкладок TabItem -->
    <Style x:Key="TabItemStyle" TargetType="TabItem">
        <Setter Property="Background" Value="#FF1A1A1A"/>
        <Setter Property="BorderBrush" Value="#FF302020"/>
        <Setter Property="Foreground" Value="#FFDA0000"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="20,15"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Border Name="Border" Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="3">
                        <ContentPresenter x:Name="ContentSite" 
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Center"
                                          ContentSource="Header"
                                          Margin="{TemplateBinding Padding}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#FF302020"/>
                            <Setter TargetName="Border" Property="BorderBrush" Value="#FFDA0000"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#FF402020"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Стили для текстовых элементов -->
    <Style x:Key="FolderLabelStyle" TargetType="TextBlock">
        <Setter Property="Foreground" Value="#FFDA0000"/>
        <Setter Property="Margin" Value="0,0,0,10"/>
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="FontWeight" Value="Bold"/>
    </Style>

    <Style x:Key="PathTextStyle" TargetType="TextBlock">
        <Setter Property="Foreground" Value="#FFAAAAAA"/>
        <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Margin" Value="0,0,0,5"/>
    </Style>

    <!-- Зелёная переливающаяся кнопка установки -->
    <Style x:Key="InstallButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="#1b1b1c"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Height" Value="180"/>
        <Setter Property="Width" Value="180"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="FontWeight" Value="Bold"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="ClickMode" Value="Press"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Ellipse x:Name="ButtonEllipse" 
                             Fill="{TemplateBinding Background}" 
                             Stroke="{TemplateBinding BorderBrush}" 
                             StrokeThickness="4">
                            <Ellipse.Triggers>
                                <EventTrigger RoutedEvent="Loaded">
                                    <BeginStoryboard>
                                        <Storyboard RepeatBehavior="Forever">
                                            <ColorAnimation 
                                            Storyboard.TargetProperty="(Ellipse.Stroke).(SolidColorBrush.Color)" 
                                            From="DarkGreen" To="LightGreen" 
                                            Duration="0:0:1" AutoReverse="True"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Ellipse.Triggers>
                        </Ellipse>

                        <ContentPresenter x:Name="ButtonContent" 
                                      HorizontalAlignment="Center" 
                                      VerticalAlignment="Center">
                            <ContentPresenter.Triggers>
                                <EventTrigger RoutedEvent="Loaded">
                                    <BeginStoryboard>
                                        <Storyboard RepeatBehavior="Forever">
                                            <ColorAnimation 
                                            Storyboard.TargetName="ButtonContent"
                                            Storyboard.TargetProperty="(TextElement.Foreground).(SolidColorBrush.Color)" 
                                            From="DarkGreen" To="LightGreen" 
                                            Duration="0:0:1" AutoReverse="True"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </ContentPresenter.Triggers>
                        </ContentPresenter>
                    </Grid>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="ButtonEllipse" Property="StrokeThickness" Value="6"/>
                            <Setter TargetName="ButtonEllipse" Property="Effect">
                                <Setter.Value>
                                    <DropShadowEffect ShadowDepth="0" BlurRadius="40" Color="Green"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Стиль для маленькой кнопки "Изменить" -->
    <Style x:Key="SmallChangeButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="#FF302020"/>
        <Setter Property="Foreground" Value="#FFD0D0D0"/>
        <Setter Property="BorderBrush" Value="#FF602020"/>
        <Setter Property="Padding" Value="8,2"/>
        <Setter Property="FontSize" Value="11"/>
        <Setter Property="Height" Value="20"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="2">
                        <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#FF502020"/>
            </Trigger>
            <DataTrigger Binding="{Binding SelectedIndex, 
            RelativeSource={RelativeSource AncestorType=TabControl}}" 
            Value="1">
                <Setter Property="IsEnabled" Value="False"/>
                <Setter Property="Background" Value="#FF1A1A1A"/>
                <Setter Property="BorderBrush" Value="#FF303030"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>